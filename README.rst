Install
=======

::

   git clone --recursive https://github.com/vimuxx/.vim.git ~/.vim/
   echo source ~/.vim/vimrc >> ~/.vimrc

+--------+-+-----------------------------------------+
|        | | vim-lsp_                                |
+========+=+=========================================+
|        | |                                         |
+--------+-+-----------------------------------------+
| bash   | | ``npm install -g bash-language-server`` |
+--------+-+-----------------------------------------+
| c      | | ``apt install clangd``                  |
+--------+-+-----------------------------------------+
| python | | ``npm install -g pyright``              |
+--------+-+-----------------------------------------+
|        | |                                         |
+--------+-+-----------------------------------------+

**Vim** your code and check ``:LspStatus``.

Update
======

::

   git fetch
   git checkout origin/master
   git submodule update --init

Keybind
=======

+---------------+-+------------+---------------------------+-+------------+-------------+---------+
|               | | lsp        | lsp cmd                   | | cscope     | cscope cmd  | ctags   |
+===============+=+============+===========================+=+============+=============+=========+
|               | |            |                           | |            |             |         |
+---------------+-+------------+---------------------------+-+------------+-------------+---------+
| Code Action   | | Ctrl\_\\ A | :LspCodeAction            | |            |             |         |
+---------------+-+------------+---------------------------+-+------------+-------------+---------+
| Call          | | Ctrl\_\\ C | :LspCallHierarchyIncoming | | Ctrl\_\\ c | :cs f c ... |         |
+---------------+-+------------+---------------------------+-+------------+-------------+---------+
| File          | |            |                           | | Ctrl\_\\ f | :cs f f ... |         |
+---------------+-+------------+---------------------------+-+------------+-------------+---------+
| Definaion     | | Ctrl\_\\ G | :LspDefinition            | | Ctrl\_\\ g | :cs f g ... | Ctrl\_] |
+---------------+-+------------+---------------------------+-+------------+-------------+---------+
| Hover         | | Ctrl\_\\ H | :LspHover                 | |            |             |         |
+---------------+-+------------+---------------------------+-+------------+-------------+---------+
| Hover Down    | | Ctrl\_j    |                           | |            |             |         |
+---------------+-+------------+---------------------------+-+------------+-------------+---------+
| Hover Up      | | Ctrl\_k    |                           | |            |             |         |
+---------------+-+------------+---------------------------+-+------------+-------------+---------+
| Snippet       | | Ctrl\_l    |                           | |            |             |         |
+---------------+-+------------+---------------------------+-+------------+-------------+---------+
| Rename        | | Ctrl\_\\ R | :LspRename                | |            |             |         |
+---------------+-+------------+---------------------------+-+------------+-------------+---------+
| References    | | Ctrl\_\\ S | :LspReferences            | | Ctrl\_\\ s | :cs f s ... |         |
+---------------+-+------------+---------------------------+-+------------+-------------+---------+
|               | |            |                           | |            |             |         |
+---------------+-+------------+---------------------------+-+------------+-------------+---------+
| text string   | |            |                           | | Ctrl\_\\ t | :cs f t ... |         |
+---------------+-+------------+---------------------------+-+------------+-------------+---------+
| egrep pattern | |            |                           | | Ctrl\_\\ e | :cs f e ... |         |
+---------------+-+------------+---------------------------+-+------------+-------------+---------+
|               | |            |                           | |            |             |         |
+---------------+-+------------+---------------------------+-+------------+-------------+---------+
| go back       | |            |                           | |            |             | Ctrl\_t |
+---------------+-+------------+---------------------------+-+------------+-------------+---------+
|               | |            |                           | |            |             |         |
+---------------+-+------------+---------------------------+-+------------+-------------+---------+

----

Linux Kernel
============

1. Install cscope_ and cs_
::

   apt install cscope
   ln -s ~/.vim/pack/foo/start/cscope_maps.vim/cs /usr/local/bin/cs

2. Compile the linux kernelï¼Œthen use ``cs`` to list compiled source files
::

   make ... [O=dir/] ...
   cs [dir/]

3. Start navigation with
::

   vi [dir/]cscope.files

**Additionally**

Add ``.clangd`` if necessary
::

   CompileFlags:
     Remove:
       - -mabi=lp64
       - -fconserve-stack
       - -fno-ipa-sra
       - -fno-var-tracking-assignments
       - -mno-thumb-interwork
       - -mno-sched-prolg
       - -mno-sched-prolog
       - -mapcs

   #Diagnostics:
   #  Suppress:
   #    - '*'

Try insert ``PK$``

+---------+----------------+---+---------+
|         |                |   |         |
+---------+----------------+---+---------+
| ``PK!`` | pr_alert       | 1 | red     |
+---------+----------------+---+---------+
| ``PK@`` | pr_crit        | 2 | green   |
+---------+----------------+---+---------+
| ``PK#`` | pr_err         | 3 | brown   |
+---------+----------------+---+---------+
| ``PK$`` | pr_warn        | 4 | blue    |
+---------+----------------+---+---------+
| ``PK%`` | pr_notice      | 5 | magenta |
+---------+----------------+---+---------+
| ``PK^`` | pr_info        | 6 | cyan    |
+---------+----------------+---+---------+
| ``PK&`` | WARN           | 7 | white   |
+---------+----------------+---+---------+
| ``PK*`` | print_hex_dump |   |         |
+---------+----------------+---+---------+
|         |                |   |         |
+---------+----------------+---+---------+

.. _cscope: https://cscope.sourceforge.net/
.. _cs: https://github.com/vimuxx/cscope_maps.vim
.. _vim-lsp: https://github.com/prabirshrestha/vim-lsp
